$ export PS1='\n$PWD> '

/home/docker> ls

/home/docker> cd /c/Users/Dell\ lap/docker-workshop/jun24/

/c/Users/Dell lap/docker-workshop/jun24>

/c/Users/Dell lap/docker-workshop/jun24> ls
ora-jun24-dock-kube

/c/Users/Dell lap/docker-workshop/jun24> cd ora-jun24-dock-kube/

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube> ls
README.md  docker-command-list.docx  rough-diag.pptx         setup.md
app        dockers-slightedge.pdf    running-notes-day1.txt

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube>

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube> cd app/

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/app> ls
Dockerfile  app.tar

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/app> cat Dockerfile
FROM alpine
RUN apk update
RUN apk add apache2

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/app> docker image ls app
REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
app                 1                   bd6b4a5af614        17 hours ago        10.6MB
app                 latest              bd6b4a5af614        17 hours ago        10.6MB

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/app> docker container ls | grep -v k8s
CONTAINER ID        IMAGE                                                            COMMAND                  CREATED             STATUS              PORTS                                                                NAMES

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/app> docker container ls -a| grep -v k8s
CONTAINER ID        IMAGE                                                            COMMAND                  CREATED             STATUS                          PORTS                                                                NAMES
370b77bd7fe8        alpine                                                           "sh"                     7 minutes ago       Exited (0) About a minute ago                                                                        quirky_bartik
bb174019fc17        nginx-app                                                        "nginx -g 'daemon ..."   19 hours ago        Exited (137) 16 hours ago                                                                            sad_galileo

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/app> docker container prune
WARNING! This will remove all stopped containers.
Are you sure you want to continue? [y/N] y
Deleted Containers:
370b77bd7fe8f6fef7291c7835697ded6da27c897264a948e337ca405efb705c
bb174019fc17566613f2ae8629f323a0d1b99c075d6cd42c85854eea19effb92
ffcdbd6d731999d4d0935536804225fea897435d4d6d8c11699b89a6c9f0b1f4
43966f75ab04fe25f4fdcb654f1c3e95e73ed9c6beda66b61d5594c08102e653
6c4c108e43afd0d93b169437032a8a68ab32306f3da51c54c5b840cf684d9c82
e45381d761795ee12aa49942f7c47f316b899bc4a3ed601768f36fe4e7b1fc0a
ad186d689e56b9ba7dadc826807bd5e3df92a43a7930446064041dfab4a72a3a
16ef7bcbd58cda19fc4b59156310b8540ab576f5ccccfb50374238b0666d9448
5894c72f199b6ed4bbc9c9b33e203745611908a6a018ce41fd817047d420bba6
b6eccae71a3b784bd3ae6b7addf8bae3dfa3de16e918edcfa440f253db9b1a43
51fe3c6c08b16a95c3a9922d29d30726a9ef1880e9c1d0763966d6937cdffb29
ed02fa2169d84fb2d1dd10252e7677e848aff2ab0f0980939d8236b564ecd3f4
fda7450dd768686eefce0dba758ccafa4ef61720986e98d88b377629e75fe4b2
24b87c274b08ff4e9f05426630889149ab1d3d365cffe721df7a4601ca253a84
951ee49073cb83a1191b0e686c10c89b548b79e9ee4a301d755c637b95c587c6
ae32944e5c12d09f7fe220bb67e29d2e09f751d7ab11c305a6def4343aeb35c1
89aa7c985cd3fc1d80a2fe7f2e80e9b46fa5a307732ef28d9ec2abbe166ae466
a659b01015244526f26042baf96c26365acbc2a1e0c1c74cdb0dc09eb00db1a5
ca6e599d703070facf8babea1e778446845237d714909b480f1bc334dee6ac8c
c7b6379f9e29bfb945734778899cf65e27e46f22b1d3b9c6c7f2d133f81aff65
7764e3f0694b4dbee2bd8ec5fdb6775f9bcde961480792df29e8137351b4d393
8921b6c821ec4f4c46274adfb1f539a1c769244906d162f8f893d1f08b210e4d
008defa87abca66ad58edb46d6694a0675628b92fb84d7ed8246112a032fec59
e40767fa0c83f2ad7597e15eccc91c63110a4c245004c3467863fa21377431f7
6743d554d77c6fe81ad78f9cf152fef5901628f14817eb5d42863e3c02a6ecc0
f5f1be73958dd0c3032a417b142a4effd133192d49667c881b13ebd840037715
fcb808e1dc5741263cb43285b1b7df6945c32383c09aef012c467e35336a8930
4a412037b05f413c6e677b28093e962132795b69adbee7d4e1805d1c666ef2a4
88d585c66b69f1d1bbd6284c29c518542799f0250ea5f5a1e05938c73a8619b1
ac51c316d7871cdf8b9b8be423025d90bebb69ef8574a663e50b1733f868afba
e3bfbaecbbefbe2dee531b8ad01de068fb1169077e22a8fd39ec1fd70a067b23

Total reclaimed space: 2.983MB

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/app>

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/app> cd

/home/docker> docker container run -d app
2c9b407c3a342d39bde0f9d770181ef46b2c349b763b9e8f0ff07dbbc2756b74

/home/docker> docker container ls | grep -v k8s
CONTAINER ID        IMAGE                                                            COMMAND                  CREATED             STATUS              PORTS                                                                NAMES

/home/docker> docker container ls -a| grep -v k8s
CONTAINER ID        IMAGE                                                            COMMAND                  CREATED             STATUS                      PORTS                                                                NAMES
2c9b407c3a34        app                                                              "/bin/sh"                23 seconds ago      Exited (0) 22 seconds ago                                                                        laughing_dijkstra

/home/docker> docker container run -d nginx
cdb42f2258db3db07ac1efcae244ca731909ac74319ba145eec8a139b3f5357d

/home/docker> docker container ls -a| grep -v k8s
CONTAINER ID        IMAGE                                                            COMMAND                  CREATED             STATUS                          PORTS                                                                NAMES
cdb42f2258db        nginx                                                            "nginx -g 'daemon ..."   3 seconds ago       Up 1 second                     80/tcp                                                               elastic_knuth
2c9b407c3a34        app                                                              "/bin/sh"                2 minutes ago       Exited (0) About a minute ago                                                                        laughing_dijkstra

/home/docker>

/home/docker> docker image history nginx
IMAGE               CREATED             CREATED BY                                      SIZE                COMMENT
719cd2e3ed04        2 weeks ago         /bin/sh -c #(nop)  CMD ["nginx" "-g" "daem...   0B      
<missing>           2 weeks ago         /bin/sh -c #(nop)  STOPSIGNAL SIGTERM           0B      
<missing>           2 weeks ago         /bin/sh -c #(nop)  EXPOSE 80                    0B      
<missing>           2 weeks ago         /bin/sh -c ln -sf /dev/stdout /var/log/ngi...   22B     
<missing>           2 weeks ago         /bin/sh -c set -x     && addgroup --system...   54MB    
<missing>           2 weeks ago         /bin/sh -c #(nop)  ENV PKG_RELEASE=1~stretch    0B      
<missing>           2 weeks ago         /bin/sh -c #(nop)  ENV NJS_VERSION=0.3.2        0B      
<missing>           2 weeks ago         /bin/sh -c #(nop)  ENV NGINX_VERSION=1.17.0     0B      
<missing>           2 weeks ago         /bin/sh -c #(nop)  LABEL maintainer=NGINX ...   0B      
<missing>           2 weeks ago         /bin/sh -c #(nop)  CMD ["bash"]                 0B      
<missing>           2 weeks ago         /bin/sh -c #(nop) ADD file:5ffb798d6408941...   55.3MB  

/home/docker> docker image history app
IMAGE               CREATED             CREATED BY                                      SIZE                COMMENT
bd6b4a5af614        17 hours ago        /bin/sh -c apk add apache2                      3.6MB   
60ff1be135da        17 hours ago        /bin/sh -c apk update                           1.42MB  
4d90542f0623        5 days ago          /bin/sh -c #(nop)  CMD ["/bin/sh"]              0B      
<missing>           5 days ago          /bin/sh -c #(nop) ADD file:fef3b00b3ae6396...   5.58MB  

/home/docker> docker container run -d app ping google.com
dc14e8462bf306acc8d27030ac190d81d4dbfe34b98107127f4de8eeda696f19

/home/docker> docker container ls | grep -v k8s
CONTAINER ID        IMAGE                                                            COMMAND                  CREATED             STATUS              PORTS                                                                NAMES
dc14e8462bf3        app                                                              "ping google.com"        10 seconds ago      Up 9 seconds                                                                             youthful_agnesi
cdb42f2258db        nginx                                                            "nginx -g 'daemon ..."   3 minutes ago       Up 3 minutes        80/tcp                                                               elastic_knuth

/home/docker> docker container run -d app ping -c20 google.com
59a640aaefafcf52891f2bc223ed20358681acbad1f9639a3bcb177d15a495a1

/home/docker> docker container ls | grep -v k8s
CONTAINER ID        IMAGE                                                            COMMAND                  CREATED             STATUS              PORTS                                                                NAMES
59a640aaefaf        app                                                              "ping -c20 google.com"   2 seconds ago       Up 1 second                                                                              suspicious_leavitt
dc14e8462bf3        app                                                              "ping google.com"        2 minutes ago       Up 2 minutes                                                                             youthful_agnesi
cdb42f2258db        nginx                                                            "nginx -g 'daemon ..."   5 minutes ago       Up 5 minutes        80/tcp                                                               elastic_knuth

/home/docker> docker container ls | grep -v k8s
CONTAINER ID        IMAGE                                                            COMMAND                  CREATED             STATUS              PORTS                                                                NAMES
dc14e8462bf3        app                                                              "ping google.com"        2 minutes ago       Up 2 minutes                                                                             youthful_agnesi
cdb42f2258db        nginx                                                            "nginx -g 'daemon ..."   5 minutes ago       Up 5 minutes        80/tcp                                                               elastic_knuth

/home/docker> docker container ls -a| grep -v k8s
CONTAINER ID        IMAGE                                                            COMMAND                  CREATED             STATUS                      PORTS                                                                NAMES
59a640aaefaf        app                                                              "ping -c20 google.com"   38 seconds ago      Exited (0) 17 seconds ago                                                                        suspicious_leavitt
dc14e8462bf3        app                                                              "ping google.com"        2 minutes ago       Up 2 minutes                                                                                     youthful_agnesi
cdb42f2258db        nginx                                                            "nginx -g 'daemon ..."   6 minutes ago       Up 6 minutes                80/tcp                                                               elastic_knuth
2c9b407c3a34        app                                                              "/bin/sh"                8 minutes ago       Exited (0) 8 minutes ago                                                                         laughing_dijkstra

/home/docker> docker container exec -it dc14e8462bf3 sh
/ # ps
PID   USER     TIME  COMMAND
    1 root      0:00 ping google.com
    5 root      0:00 sh
    9 root      0:00 ps
/ # exit

/home/docker>

/home/docker> docker container run -d app ping -c2 google.com
8f39165b4b2b2728ffbc96f5c577b954925ec3f92ce3e589b6ef996ca996d211

/home/docker> docker container logs 8f39165b4b
PING google.com (172.217.160.142): 56 data bytes
64 bytes from 172.217.160.142: seq=0 ttl=54 time=44.328 ms
64 bytes from 172.217.160.142: seq=1 ttl=54 time=17.004 ms

--- google.com ping statistics ---
2 packets transmitted, 2 packets received, 0% packet loss
round-trip min/avg/max = 17.004/30.666/44.328 ms

/home/docker> docker container run app ping -c2 google.com
PING google.com (172.217.163.110): 56 data bytes
64 bytes from 172.217.163.110: seq=0 ttl=54 time=16.721 ms
64 bytes from 172.217.163.110: seq=1 ttl=54 time=13.976 ms

--- google.com ping statistics ---
2 packets transmitted, 2 packets received, 0% packet loss
round-trip min/avg/max = 13.976/15.348/16.721 ms

/home/docker> docker container run nginx  ping -c2 google.com
container_linux.go:265: starting container process caused "exec: \"ping\": executable file not found in $PATH"
docker: Error response from daemon: oci runtime error: container_linux.go:265: starting container process caused "exec: \"ping\": executable file not found in $PATH".
ERRO[0000] error waiting for container: context canceled

/home/docker>

/home/docker> docker container ls | grep -v k8s
CONTAINER ID        IMAGE                                                            COMMAND                  CREATED             STATUS              PORTS                                                                NAMES
dc14e8462bf3        app                                                              "ping google.com"        8 minutes ago       Up 8 minutes                                                                             youthful_agnesi
cdb42f2258db        nginx                                                            "nginx -g 'daemon ..."   12 minutes ago      Up 12 minutes       80/tcp                                                               elastic_knuth

/home/docker> docker container exec -it dc14e8462bf3 sh
/ # ps
PID   USER     TIME  COMMAND
    1 root      0:00 ping google.com
   10 root      0:00 sh
   16 root      0:00 ps
/ # httpd
AH00558: httpd: Could not reliably determine the server's fully qualified domain name, using 172.17.0.15. Set the 'ServerName' directive globally to suppress this message
/ # ps
PID   USER     TIME  COMMAND
    1 root      0:00 ping google.com
   10 root      0:00 sh
   18 root      0:00 httpd
   19 apache    0:00 httpd
   20 apache    0:00 httpd
   21 apache    0:00 httpd
   22 apache    0:00 httpd
   23 apache    0:00 httpd
   24 root      0:00 ps
/ # kill -9 18 19 20 21 22 23
/ # kill -9 18 19 20 21 22 23
sh: can't kill pid 18: No such process
sh: can't kill pid 19: No such process
sh: can't kill pid 20: No such process
sh: can't kill pid 21: No such process
sh: can't kill pid 22: No such process
sh: can't kill pid 23: No such process
/ # ps
PID   USER     TIME  COMMAND
    1 root      0:00 ping google.com
   10 root      0:00 sh
   25 root      0:00 ps
/ # httpd -D FOREGROUND
AH00558: httpd: Could not reliably determine the server's fully qualified domain name, using 172.17.0.15. Set the 'ServerName' directive globally to suppress this message
^C/ # exit

/home/docker>

/home/docker> docker container run -d -p 9090:80 app httpd -D FOREGROUND
864763a63f58ac607a98f3509a7d76731956ed5a08177490619637a77da0f11c

/home/docker> docker container ls | grep -v k8s
CONTAINER ID        IMAGE                                                            COMMAND                  CREATED             STATUS              PORTS                                                                NAMES
864763a63f58        app                                                              "httpd -D FOREGROUND"    10 seconds ago      Up 9 seconds        0.0.0.0:9090->80/tcp                                                 focused_haibt
dc14e8462bf3        app                                                              "ping google.com"        14 minutes ago      Up 14 minutes                                                                            youthful_agnesi
cdb42f2258db        nginx                                                            "nginx -g 'daemon ..."   18 minutes ago      Up 18 minutes       80/tcp                                                               elastic_knuth

/home/docker> docker container exec -it 864763a63f58 sh
/ # ps
PID   USER     TIME  COMMAND
    1 root      0:00 httpd -D FOREGROUND
    5 apache    0:00 httpd -D FOREGROUND
    6 apache    0:00 httpd -D FOREGROUND
    7 apache    0:00 httpd -D FOREGROUND
    8 apache    0:00 httpd -D FOREGROUND
    9 apache    0:00 httpd -D FOREGROUND
   10 apache    0:00 httpd -D FOREGROUND
   11 root      0:00 sh
   16 root      0:00 ps
/ # exit

/home/docker> docker container run app ping -c2 google.com > /tmp/log.txt

/home/docker> cat /tmp/log.txt
PING google.com (172.217.160.142): 56 data bytes
64 bytes from 172.217.160.142: seq=0 ttl=54 time=16.258 ms
64 bytes from 172.217.160.142: seq=1 ttl=54 time=14.384 ms

--- google.com ping statistics ---
2 packets transmitted, 2 packets received, 0% packet loss
round-trip min/avg/max = 14.384/15.321/16.258 ms

/home/docker> docker container run -d app ping -c2 google.com > /tmp/log.txt

/home/docker> docker container run -d app ping -c2 google.com > /tmp/log1.txt

/home/docker> cat /tmp/log1.txt
9de0b7aba7e641f5a41a5661e348667cf74eb34e5067cddde85219aeafd129bd

/home/docker> docker container run -d app ping -c2 google.com
821f25bfa33b905d217052da0d18ac195a5d16b37c29392c722d35073275bda0

/home/docker> docker container logs 821f25bfa
PING google.com (172.217.160.142): 56 data bytes
64 bytes from 172.217.160.142: seq=0 ttl=54 time=19.230 ms
64 bytes from 172.217.160.142: seq=1 ttl=54 time=14.341 ms

--- google.com ping statistics ---
2 packets transmitted, 2 packets received, 0% packet loss
round-trip min/avg/max = 14.341/16.785/19.230 ms

/home/docker> docker container ls | grep -v k8s
CONTAINER ID        IMAGE                                                            COMMAND                  CREATED             STATUS              PORTS                                                                NAMES
864763a63f58        app                                                              "httpd -D FOREGROUND"    10 minutes ago      Up 10 minutes       0.0.0.0:9090->80/tcp                                                 focused_haibt
dc14e8462bf3        app                                                              "ping google.com"        25 minutes ago      Up 25 minutes                                                                            youthful_agnesi
cdb42f2258db        nginx                                                            "nginx -g 'daemon ..."   28 minutes ago      Up 28 minutes       80/tcp                                                               elastic_knuth

/home/docker> docker container exec -it 864763a63f58 sh
/ # ps
PID   USER     TIME  COMMAND
    1 root      0:00 httpd -D FOREGROUND
    5 apache    0:00 httpd -D FOREGROUND
    6 apache    0:00 httpd -D FOREGROUND
    7 apache    0:00 httpd -D FOREGROUND
    8 apache    0:00 httpd -D FOREGROUND
    9 apache    0:00 httpd -D FOREGROUND
   10 apache    0:00 httpd -D FOREGROUND
   17 root      0:00 sh
   22 root      0:00 ps
/ #
/home/docker>


--------------------------------------------------------------------------------------------------------


/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/app> cat > mypage.html
<h1> My Code </h1>
^C

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/app>

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/app> ls
Dockerfile  mypage.html

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/app> ls
Dockerfile  mypage.html

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/app> cat mypage.html
<h1> My Code </h1>

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/app> vi Dockerfile

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/app>

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/app> cat Dockerfile
FROM alpine
RUN apk update
RUN apk add apache2
CMD ["httpd", "-D", "FOREGROUND"]
COPY mypage.html /var/www/localhost/htdocs

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/app> cat mypage.html
<h1> My Code </h1>

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/app> docker image build -t app:latest -t app:3 .
Sending build context to Docker daemon  3.072kB
Step 1/5 : FROM alpine
 ---> 4d90542f0623
Step 2/5 : RUN apk update
 ---> Using cache
 ---> 60ff1be135da
Step 3/5 : RUN apk add apache2
 ---> Using cache
 ---> bd6b4a5af614
Step 4/5 : CMD httpd -D FOREGROUND
 ---> Using cache
 ---> f0dbcaaa2aec
Step 5/5 : COPY mypage.html /var/www/localhost/htdocs
 ---> bdf89f173c3d
Successfully built bdf89f173c3d
Successfully tagged app:latest
Successfully tagged app:3

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/app> vi Dockerfile

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/app> ls
Dockerfile  mypage.html

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/app> docker image build -t app:latest -t app:3 .
Sending build context to Docker daemon  3.072kB
Step 1/5 : FROM alpine
 ---> 4d90542f0623
Step 2/5 : RUN apk update
 ---> Using cache
 ---> 60ff1be135da
Step 3/5 : RUN apk add apache2
 ---> Using cache
 ---> bd6b4a5af614
Step 4/5 : CMD httpd -D FOREGROUND
 ---> Using cache
 ---> f0dbcaaa2aec
Step 5/5 : COPY mypage1.html /var/www/localhost/htdocs
COPY failed: stat /var/lib/docker/tmp/docker-builder056573873/mypage1.html: no such file or directory

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/app> vi Dockerfile

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/app> docker image build -t app:latest -t app:3
"docker image build" requires exactly 1 argument.
See 'docker image build --help'.

Usage:  docker image build [OPTIONS] PATH | URL | -

Build an image from a Dockerfile

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/app> docker image history app
IMAGE               CREATED             CREATED BY                                      SIZE                COMMENT
bdf89f173c3d        3 minutes ago       /bin/sh -c #(nop) COPY file:1b2e5998c64d1d...   19B     
f0dbcaaa2aec        21 minutes ago      /bin/sh -c #(nop)  CMD ["httpd" "-D" "FORE...   0B      
bd6b4a5af614        19 hours ago        /bin/sh -c apk add apache2                      3.6MB   
60ff1be135da        19 hours ago        /bin/sh -c apk update                           1.42MB  
4d90542f0623        5 days ago          /bin/sh -c #(nop)  CMD ["/bin/sh"]              0B      
<missing>           5 days ago          /bin/sh -c #(nop) ADD file:fef3b00b3ae6396...   5.58MB  

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/app> docker container run -d -p9292:80 app
9bc249180a0636be115f63bc4eecc08ffeae57c153303cbda6000730d381f1e7

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/app>



------------------------------------------------------------------------------------


/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube> mkdir pinger

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube> cd pinger/

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/pinger> ls

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/pinger> vi Dockerfile

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/pinger> cat Dockerfile
FROM alpine
CMD ["ping", "-c2", "google.com"]

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/pinger> docker image build -t pinger .
Sending build context to Docker daemon  2.048kB
Step 1/2 : FROM alpine
 ---> 4d90542f0623
Step 2/2 : CMD ping -c2 google.com
 ---> Running in 20fe9e401509
 ---> 868ee6f0b099
Removing intermediate container 20fe9e401509
Successfully built 868ee6f0b099
Successfully tagged pinger:latest

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/pinger> docker container run pinger
PING google.com (172.217.163.110): 56 data bytes
64 bytes from 172.217.163.110: seq=0 ttl=54 time=44.917 ms
64 bytes from 172.217.163.110: seq=1 ttl=54 time=17.760 ms

--- google.com ping statistics ---
2 packets transmitted, 2 packets received, 0% packet loss
round-trip min/avg/max = 17.760/31.338/44.917 ms

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/pinger> docker container ls -a | grep -v k8s
CONTAINER ID        IMAGE                                                            COMMAND                  CREATED             STATUS                      PORTS                                                                NAMES
3c838ece5e45        pinger                                                           "ping -c2 google.com"    15 seconds ago      Exited (0) 13 seconds ago                                                                        condescending_feynman
9bc249180a06        app                                                              "httpd -D FOREGROUND"    40 minutes ago      Up 40 minutes               0.0.0.0:9292->80/tcp                                                 gallant_johnson
a7beec54225f        f0dbcaaa2aec                                                     "httpd -D FOREGROUND"    About an hour ago   Up About an hour                                                                                 xenodochial_mcclintock

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/pinger> docker container run --rm pinger
PING google.com (172.217.163.110): 56 data bytes
64 bytes from 172.217.163.110: seq=0 ttl=54 time=70.907 ms
64 bytes from 172.217.163.110: seq=1 ttl=54 time=20.834 ms

--- google.com ping statistics ---
2 packets transmitted, 2 packets received, 0% packet loss
round-trip min/avg/max = 20.834/45.870/70.907 ms

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/pinger> docker container ls -a | grep -v k8s
CONTAINER ID        IMAGE                                                            COMMAND                  CREATED              STATUS                          PORTS                                                                NAMES
3c838ece5e45        pinger                                                           "ping -c2 google.com"    About a minute ago   Exited (0) About a minute ago                                                                        condescending_feynman
9bc249180a06        app                                                              "httpd -D FOREGROUND"    42 minutes ago       Up 42 minutes                   0.0.0.0:9292->80/tcp                                                 gallant_johnson
a7beec54225f        f0dbcaaa2aec                                                     "httpd -D FOREGROUND"    About an hour ago    Up About an hour                                                                                     xenodochial_mcclintock

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/pinger>

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/pinger> docker container run --rm pinger
PING google.com (172.217.163.110): 56 data bytes
64 bytes from 172.217.163.110: seq=0 ttl=54 time=15.256 ms
64 bytes from 172.217.163.110: seq=1 ttl=54 time=34.182 ms

--- google.com ping statistics ---
2 packets transmitted, 2 packets received, 0% packet loss
round-trip min/avg/max = 15.256/24.719/34.182 ms

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/pinger> docker container run pinger ping -c2 oracle.com
PING oracle.com (137.254.120.50): 56 data bytes
64 bytes from 137.254.120.50: seq=0 ttl=234 time=290.316 ms
64 bytes from 137.254.120.50: seq=1 ttl=234 time=333.929 ms

--- oracle.com ping statistics ---
2 packets transmitted, 2 packets received, 0% packet loss
round-trip min/avg/max = 290.316/312.122/333.929 ms

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/pinger> vi Dockerfile

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/pinger>

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/pinger> cat Dockerfile
FROM alpine
ENTRYPOINT ["ping", "-c2"]
CMD ["google.com"]
#ping -c2 google.com

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/pinger> docker container run --rm pinger
PING google.com (172.217.163.110): 56 data bytes
64 bytes from 172.217.163.110: seq=0 ttl=54 time=25.584 ms
^C
--- google.com ping statistics ---
1 packets transmitted, 1 packets received, 0% packet loss
round-trip min/avg/max = 25.584/25.584/25.584 ms

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/pinger> docker image build -t pinger .
Sending build context to Docker daemon  2.048kB
Step 1/3 : FROM alpine
 ---> 4d90542f0623
Step 2/3 : ENTRYPOINT ping -c2
 ---> Running in 7f03e8f5c265
 ---> b487b6a366b1
Removing intermediate container 7f03e8f5c265
Step 3/3 : CMD google.com
 ---> Running in 4d7dbeb064be
 ---> c7d6df8905f9
Removing intermediate container 4d7dbeb064be
Successfully built c7d6df8905f9
Successfully tagged pinger:latest

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/pinger>

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/pinger> docker container run --rm pinger
PING google.com (172.217.163.110): 56 data bytes
64 bytes from 172.217.163.110: seq=0 ttl=54 time=20.019 ms
64 bytes from 172.217.163.110: seq=1 ttl=54 time=20.380 ms

--- google.com ping statistics ---
2 packets transmitted, 2 packets received, 0% packet loss
round-trip min/avg/max = 20.019/20.199/20.380 ms

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/pinger> docker image history pinger
IMAGE               CREATED             CREATED BY                                      SIZE                COMMENT
c7d6df8905f9        24 seconds ago      /bin/sh -c #(nop)  CMD ["google.com"]           0B      
b487b6a366b1        24 seconds ago      /bin/sh -c #(nop)  ENTRYPOINT ["ping" "-c2"]    0B      
4d90542f0623        5 days ago          /bin/sh -c #(nop)  CMD ["/bin/sh"]              0B      
<missing>           5 days ago          /bin/sh -c #(nop) ADD file:fef3b00b3ae6396...   5.58MB  

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/pinger> docker container run --rm pinger yahoo.com
PING yahoo.com (72.30.35.10): 56 data bytes
64 bytes from 72.30.35.10: seq=0 ttl=49 time=238.733 ms
64 bytes from 72.30.35.10: seq=1 ttl=49 time=227.392 ms

--- yahoo.com ping statistics ---
2 packets transmitted, 2 packets received, 0% packet loss
round-trip min/avg/max = 227.392/233.062/238.733 ms

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/pinger> docker container run --rm --entrypoint "ping" pinger yahoo.com
PING yahoo.com (98.137.246.7): 56 data bytes
64 bytes from 98.137.246.7: seq=0 ttl=47 time=287.868 ms
64 bytes from 98.137.246.7: seq=1 ttl=47 time=291.661 ms
64 bytes from 98.137.246.7: seq=2 ttl=47 time=284.517 ms
64 bytes from 98.137.246.7: seq=3 ttl=47 time=286.705 ms
64 bytes from 98.137.246.7: seq=4 ttl=47 time=288.079 ms
^C
--- yahoo.com ping statistics ---
5 packets transmitted, 5 packets received, 0% packet loss
round-trip min/avg/max = 284.517/287.766/291.661 ms

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/pinger> cd ..

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube> ls
README.md  docker-command-list.docx  pinger           running-notes-day1.txt  setup.md
app        dockers-slightedge.pdf    rough-diag.pptx  running-notes-day2.txt

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube>

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube> cd app

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/app> ls
Dockerfile  mypage.html

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/app> vi docker-entrypoint.sh

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/app> cat docker-entrypoint.sh
#!/bin/sh
sed -i "s/Listen 80/Listen 9090/g" /etc/apache2/httpd.conf

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/app> ls
Dockerfile  docker-entrypoint.sh  mypage.html

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/app> vi Dockerfile

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/app> ls
Dockerfile  docker-entrypoint.sh  mypage.html

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/app> vi myscript.sh

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/app> cat my
cat: my: No such file or directory

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/app> cat myscript.sh
#!/bin/sh
echo "$@"

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/app> chmod +x myscript.sh

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/app> myscript.sh ls -ltr
-bash: myscript.sh: command not found

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/app> ./myscript.sh ls -ltr
ls -ltr

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/app> vi myscript.sh

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/app> ./myscript.sh ls -ltr
ls -ltr
total 2
-rwxrwxrwx 1 docker docker  19 Jun 25 05:40 mypage.html
-rwxrwxrwx 1 docker docker  69 Jun 25 06:39 docker-entrypoint.sh
-rwxrwxrwx 1 docker docker 326 Jun 25 06:43 Dockerfile
-rwxrwxrwx 1 docker docker  30 Jun 25 06:44 myscript.sh

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/app> cat docker-entrypoint.sh
#!/bin/sh
sed -i "s/Listen 80/Listen 9090/g" /etc/apache2/httpd.conf

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/app> cat Dockerfile
FROM alpine
LABEL description="http image with configurable port"
RUN apk update
RUN apk add apache2
COPY docker-entrypoint.sh /bin
RUN chmod +x /bin/docker-entrypoint.sh
ENTRYPOINT ["docker-entrypoint.sh"]
CMD ["httpd", "-D", "FOREGROUND"]
COPY mypage.html /var/www/localhost/htdocs
#docker-entrypoint.sh httpd -D FOREGROUND

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/app> vi docker-entrypoint.sh

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/app> docker image build -t app:latest -t app:4 .
Sending build context to Docker daemon   5.12kB
Step 1/9 : FROM alpine
 ---> 4d90542f0623
Step 2/9 : LABEL description "http image with configurable port"
 ---> Running in 1fa9aa698e64
 ---> 8bd2f3b0054b
Removing intermediate container 1fa9aa698e64
Step 3/9 : RUN apk update
 ---> Running in 7a22ad29f94f
fetch http://dl-cdn.alpinelinux.org/alpine/v3.10/main/x86_64/APKINDEX.tar.gz
fetch http://dl-cdn.alpinelinux.org/alpine/v3.10/community/x86_64/APKINDEX.tar.gz
v3.10.0-4-g2174faf01b [http://dl-cdn.alpinelinux.org/alpine/v3.10/main]
v3.10.0-3-g43ac83e8aa [http://dl-cdn.alpinelinux.org/alpine/v3.10/community]
OK: 10327 distinct packages available
 ---> 63ff1e369fc2
Removing intermediate container 7a22ad29f94f
Step 4/9 : RUN apk add apache2
 ---> Running in 3079356cf209
(1/6) Installing libuuid (2.33.2-r0)
(2/6) Installing apr (1.6.5-r0)
(3/6) Installing expat (2.2.6-r0)
(4/6) Installing apr-util (1.6.1-r6)
(5/6) Installing pcre (8.43-r0)
(6/6) Installing apache2 (2.4.39-r0)
Executing apache2-2.4.39-r0.pre-install
Executing busybox-1.30.1-r2.trigger
OK: 9 MiB in 20 packages
 ---> ffaeead73325
Removing intermediate container 3079356cf209
Step 5/9 : COPY docker-entrypoint.sh /bin
 ---> 47de09b72f90
Step 6/9 : RUN chmod +x /bin/docker-entrypoint.sh
 ---> Running in e8f1ff04ea0d
 ---> 2a21def4a424
Removing intermediate container e8f1ff04ea0d
Step 7/9 : ENTRYPOINT docker-entrypoint.sh
 ---> Running in 2b21854fa8d7
 ---> 06367dcef0d5
Removing intermediate container 2b21854fa8d7
Step 8/9 : CMD httpd -D FOREGROUND
 ---> Running in 8aa92e6402ff
 ---> d5e8dec281c3
Removing intermediate container 8aa92e6402ff
Step 9/9 : COPY mypage.html /var/www/localhost/htdocs
 ---> 3742ba10bcde
Successfully built 3742ba10bcde
Successfully tagged app:latest
Successfully tagged app:4

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/app> docker image history app
IMAGE               CREATED             CREATED BY                                      SIZE                COMMENT
3742ba10bcde        6 seconds ago       /bin/sh -c #(nop) COPY file:1b2e5998c64d1d...   19B     
d5e8dec281c3        6 seconds ago       /bin/sh -c #(nop)  CMD ["httpd" "-D" "FORE...   0B      
06367dcef0d5        6 seconds ago       /bin/sh -c #(nop)  ENTRYPOINT ["docker-ent...   0B      
2a21def4a424        7 seconds ago       /bin/sh -c chmod +x /bin/docker-entrypoint.sh   79B     
47de09b72f90        7 seconds ago       /bin/sh -c #(nop) COPY file:bbabc6f601d9dc...   79B     
ffaeead73325        7 seconds ago       /bin/sh -c apk add apache2                      3.6MB   
63ff1e369fc2        11 seconds ago      /bin/sh -c apk update                           1.42MB  
8bd2f3b0054b        15 seconds ago      /bin/sh -c #(nop)  LABEL description=http ...   0B      
4d90542f0623        5 days ago          /bin/sh -c #(nop)  CMD ["/bin/sh"]              0B      
<missing>           5 days ago          /bin/sh -c #(nop) ADD file:fef3b00b3ae6396...   5.58MB  

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/app> docker container run -d -p 9595:9090 app
1116144c8b314e8c04ba258e76bf9023ee58c1c620487e6fee7cf70928cc7a33

/c/Users/Dell lap/docker-workshop/jun24/ora-jun24-dock-kube/app>
